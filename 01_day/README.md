# 01 天

## 說明
這天的工作是產生軟體映像檔（helloos.img）。這是 1.44M 軟碟的映像檔。
在使用 QEMU 時，可以加上 -fda 參數。

### 開機流程
開機時，硬體會先跑一段內建的程式，稱為基本輸入輸出系統（Basic Input/Output System，BIOS），
主要是用來在通電話做初始化，如檢測硬體， 譬如是否有軟體機、鍵盤？運作是否正常？
接著，則會裝控制權移交給作業系統。

但 BIOS 不知道作業系統的位置，譬如，有可能透過硬碟、軟碟、光碟或 USB 開機，甚至可以透過網路開機。
要能做到這樣，則硬體、作業系統之間要有標準，如作業系統是放在哪個位置，要如何載入作業系統。

通常，在儲存裝置（譬如硬碟）上開機，其基本原理大致為：
1. 儲存裝置的某塊區域是特殊的，會儲放一些開機相關的資訊。這區域稱作**啟動區塊**。
   譬如：主開機紀錄（Master Boot Record，縮寫：MBR）
2. 啟動區塊上有一段程式碼，稱做**啟動載入程式**，這段程式會知道作業系統在哪，如何啟動。
   所以 BIOS 將控制權移交啟動載入程式，啟動載入程式會載入作業系統。

### helloos.img
同樣地，如果要透過軟碟開斆，也會有啟動區塊。
其詳細意義，之後會解說，或可參考[Floppy Disk Boot Record](https://thestarman.pcministry.com/asm/mbr/DOS50FDB.htm)。

而這個生成的映像檔，大部分內容都是空的資料，而非空的資料就是在設定啟動區塊。
嚴格說，這天的工作內容，並不是做出一個作業系統（雖然作者如此宣稱），也算不上啟動載入程式。
但它就是啟動區塊，上面包含了一段程式碼。
這是開機後的第一個**進入點**，是硬體會轉移控制權的最原點。

## 使用 xxd
參考 helloos.hex.txt

## 使用 NASM
參考 helloos.asm 。

## 參考
[Floppy Disk Boot Record](https://thestarman.pcministry.com/asm/mbr/DOS50FDB.htm)

